# Session: 2026-02-25 04:31:00 UTC

## OpenClaw 安全钩子实现

为用户实现了配置自动备份钩子，在更新或重大改动前自动备份配置。

### 创建的文件

1. **oc-backup** - 独立备份脚本，功能完整
   - backup: 立即备份
   - list: 列出备份
   - restore: 恢复备份
   - cleanup: 清理旧备份
   - update: 安全更新
   - config-set: 安全设置配置

2. **install-oc-hooks.sh** - 安装脚本
   安装到 .bashrc 的函数:
   - oc-update - 安全更新
   - oc-install-version - 安装指定版本
   - oc-config-set - 安全设置配置
   - oc-edit-config - 安全编辑配置文件
   - oc-backup-list - 列出备份
   - oc-restore - 恢复备份
   - oc-backup-cleanup - 清理旧备份
   - oc-help - 显示帮助

### 安装命令
```bash
cd /home/xad/.openclaw/workspace
./install-oc-hooks.sh install
source ~/.bashrc
```

### 使用方法

**安全更新:**
```bash
oc-update
```

**安全设置配置:**
```bash
oc-config-set models.default claude-sonnet-4-20250514
```

**恢复到之前版本:**
```bash
oc-backup-list          # 查看备份
oc-restore openclaw_backup_20250225_043800
```

### 备份存储位置
`~/.config/openclaw-backups/`

备份文件命名格式: `openclaw_backup_YYYYMMDD_HHMMSS.tar.gz`
